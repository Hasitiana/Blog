{% extends 'base.html.twig' %}

{% block title %}Liste des articles{% endblock %}

{% block body %}
    <div class="d-flex justify-content-center">
        <h1>{{ title }}</h1>
    </div>
    <button class="btn btn-primary bouton_ajout"><i class="fa fa-newspaper-o"></i>&nbsp;<a href="{{ path('ajout_article') }}" style="text-decoration: none; color: white">Ajouter un article</a></button>
    {# {% if app.request.session.get('nom') == null %} 
    <button class="btn btn-primary bouton_ajout"><i class="fa fa-newspaper-o"></i>&nbsp;<a href="{{ path('ajout_article') }}" style="text-decoration: none; color: white">Ajouter un article</a></button>
    <button class="btn btn-primary bouton_ajout"><i class="fa fa-user"></i>&nbsp;<a href="{{ path('ajout_auteur') }}" style="text-decoration: none; color: white">Ajouter un auteur</a></button>
    <br><br>
    {% else %}
    <button class="btn btn-primary bouton_ajout"><i class="fa fa-newspaper-o"></i>&nbsp;<a href="{{ path('ajout_article') }}" style="text-decoration: none; color: white">Ajouter un article</a></button>
    
    <br><br>
    {% endif %} #}
    <br><br>
    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Titre</th>
                <th scope="col">Auteur</th>
                <th scope="col">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% if articles is empty %}
                <tr><td colspan="2" align="center">Aucune article</td></tr>
            {% else %}
                {% for article in articles %}
                    <tr>
                        <td>{{ article.titre }}</td>
                        <td>{{ article.Auteur }}</td>
                        <td><button class="btn btn-success"><a href="{{ path('article', {'id': article.id}) }}" style="color: white"><i class="fa fa-eye"></i></a></button><button class="btn btn-warning"><a href="{{ path('modification_article', {'id': article.id}) }}" style="color: white"><i class="fa fa-edit"></i></a></button></td>
                    </tr>
                {% endfor %}
            {% endif %}
        </tbody>
    </table>
    {{ knp_pagination_render(articles) }}
{% endblock %}
